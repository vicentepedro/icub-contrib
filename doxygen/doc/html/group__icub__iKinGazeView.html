<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-contrib: iKinGazeView</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-contrib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">iKinGazeView<div class="ingroups"><a class="el" href="group__icub__matlabViewers.html">MATLAB Viewers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A viewer for the iCub gaze implemented in MATLAB.  
<a href="#details">More...</a></p>
<p>A viewer for the iCub gaze implemented in MATLAB. </p>
<p>Copyright (C) 2010 RobotCub Consortium</p>
<p>Author: Ugo Pattacini</p>
<p>CopyPolicy: Released under the terms of the GNU GPL v2.0.</p>
<h1><a class="anchor" id="intro_sec"></a>
Description</h1>
<p>This module handles the communication between YARP based program such as the iKinGazeCtrl under the main software branch and the GUI developed in MATLAB with the purpose to display the actual iCub gaze configuration (head posture and lines of sight). It requires the user just to connect some ports whose description is detailed hereafter.</p>
<p>The GUI will look like this: </p><div class="image">
<img src="iKinGazeView.jpg" alt="iKinGazeView.jpg"/>
</div>
<p>Installation notes:</p>
<p>Within CMake please assign the following two paths (example for Windows is given):</p>
<ul>
<li>MATLAB_INCLUDE_DIRS =&gt; ${MATLAB_ROOT}/extern/include</li>
<li>MATLAB_LIBRARIES_DIRS =&gt; ${MATLAB_ROOT}/extern/lib/win32/microsoft</li>
</ul>
<p>For a Linux platform something like the following should hold:</p>
<ul>
<li>MATLAB_INCLUDE_DIRS =&gt; ${MATLAB_ROOT}/extern/include</li>
<li>MATLAB_LIBRARIES_DIRS =&gt; ${MATLAB_ROOT}/bin/glnxa64</li>
</ul>
<p>For Windows users only: if you did not register MATLAB as COM server during installation, on the command line you can issue the following: matlab /regserver</p>
<p>For Linux users only: make sure that <em>csh</em> shell is installed and MATLAB is in the path.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP libraries.</li>
<li>ctrlLib.</li>
<li>MATLAB installed.</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p>&ndash;name <em>name</em> </p><ul>
<li>The parameter <em>name</em> identifies the module's name; all the open ports will be tagged with the prefix &lt;name&gt;/. If not specified <em>/iKinGazeView</em> is assumed.</li>
</ul>
<p>&ndash;config <em>file</em> </p><ul>
<li>The parameter <em>file</em> specifies the file name used for aligning eyes kinematic to image planes (see below).</li>
</ul>
<p>&ndash;headV2</p><ul>
<li>When this options is specified then the kinematic structure of the hardware v2 of the head is referred.</li>
</ul>
<p>&ndash;visibility <em>switch</em> </p><ul>
<li>The parameter <em>switch</em> set MATLAB session visibility on/off (off by default).</li>
</ul>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<p>The ports the module is connected to.</p>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<ul>
<li><em></em> &lt;name&gt;/xd:o the port where the target to gaze at, selected through the graphical interface, is sent. The target comprises 3 double for xyz position.</li>
<li><em></em> &lt;name&gt;/q:i receives the joints angles in order to display the gaze configuration (Vector of 9 double: 3 torso_angles + 6 head_angles). The order for torso_angles is the one defined by kinematic chain (reversed order).</li>
<li><em></em> &lt;name&gt;/rpc remote procedure call port useful to shut down the module remotely by sending to this port the 'quit' command.</li>
</ul>
<h1><a class="anchor" id="in_files_sec"></a>
Input Data Files</h1>
<p>None.</p>
<h1><a class="anchor" id="out_data_sec"></a>
Output Data Files</h1>
<p>None.</p>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p>The configuration file passed through the option <em>&ndash;config</em> should contain the fields required to reconstruct the rototranslation matrices which align the kinematic eye axis with optical axis.</p>
<p>Example</p>
<div class="fragment"><div class="line">[LEFT]</div><div class="line">R      0.0324596 -0.0329982 0.0229948               <span class="comment">// [rad]</span></div><div class="line">T      8.9604e-009 1.51339e-007 9.28864e-007        <span class="comment">// [m]</span></div><div class="line"></div><div class="line">[RIGHT]</div><div class="line">R      0.0872497 -0.0872643 -0.0546534              <span class="comment">// [rad]</span></div><div class="line">T      -4.21262e-007 4.47732e-008 -9.24493e-007     <span class="comment">// [m]</span></div></div><!-- fragment --><h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<p>Windows and Linux.</p>
<h1><a class="anchor" id="example_sec"></a>
Example</h1>
<p>Try with the following:</p>
<div class="fragment"><div class="line">on terminal 1: iKinGazeCtrl </div><div class="line"> </div><div class="line">on terminal 2: iKinGazeView </div><div class="line"> </div><div class="line">on terminal 3: </div><div class="line">- yarp connect /iKinGazeCtrl/q:o  /iKinGazeView/q:i </div><div class="line">- yarp connect /iKinGazeView/xd:o /iKinGazeCtrl/xd:i </div></div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Ugo Pattacini </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
